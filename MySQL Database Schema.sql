DROP DATABASE IF EXISTS CRAWLER;

CREATE DATABASE CRAWLER;

USE CRAWLER;

DROP TABLE IF EXISTS DIFFS;

DROP TABLE IF EXISTS BUGS;

DROP TABLE IF EXISTS RECORD;



CREATE TABLE `BUGS` (
  
`BUG_ID` INT(11) NOT NULL,
  
`BUGZILLA_PRODUCT` VARCHAR(50) NOT NULL,
  
`PRODUCT` VARCHAR(300) NOT NULL,
  
`TITLE` VARCHAR(500) NOT NULL,
  
`IMPORTANCE` VARCHAR(100) NOT NULL,
  
`STATUS` VARCHAR(100) NOT NULL,
  
`DESCRIPTION` VARCHAR(50000) NOT NULL,
  
`PARSE_STATUS` VARCHAR(10) NOT NULL DEFAULT 'PENDING'
);





CREATE TABLE `DIFFS` (
  
`BUG_ID` INT(11) NOT NULL,
  
`DIFF_ID` INT(11) NOT NULL,
  
`DIFF` MEDIUMTEXT NOT NULL
);





CREATE TABLE `RECORD` (
  
`RECORDID` INT(11) NOT NULL,
  
`URL` TEXT NOT NULL
) ;


ALTER TABLE `BUGS`
 ADD PRIMARY KEY (`BUG_ID`);



ALTER TABLE `DIFFS`
  ADD PRIMARY KEY (`DIFF_ID`);

ALTER TABLE `RECORD`
  ADD PRIMARY KEY (`RECORDID`);




ALTER TABLE `RECORD`
  MODIFY `RECORDID` INT(11) NOT NULL AUTO_INCREMENT;