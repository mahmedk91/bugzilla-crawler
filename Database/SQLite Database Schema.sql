DROP TABLE IF EXISTS DIFFS;

DROP TABLE IF EXISTS BUGS;

DROP TABLE IF EXISTS RECORD;



CREATE TABLE `BUGS` (
  
`BUG_ID` INT(11) PRIMARY KEY,
  
`BUGZILLA_PRODUCT` VARCHAR(50) NOT NULL,
  
`PRODUCT` VARCHAR(300),
  
`TITLE` VARCHAR(500),
  
`IMPORTANCE` VARCHAR(100),
  
`STATUS` VARCHAR(100),
  
`DESCRIPTION` VARCHAR(50000),
  
`PARSE_STATUS` VARCHAR(10) NOT NULL DEFAULT 'PENDING'
);





CREATE TABLE `DIFFS` (
  
`BUG_ID` INT(11) NOT NULL,
 
`DIFF_ID` INT(11) PRIMARY KEY,
  
`DIFF` MEDIUMTEXT NOT NULL, 
FOREIGN KEY (`BUG_ID`) REFERENCES `BUGS`(`BUG_ID`) ON DELETE CASCADE ON UPDATE RESTRICT
);





CREATE TABLE `RECORD` (

`RECORDID` INTEGER PRIMARY KEY AUTOINCREMENT,
 
`URL` TEXT NOT NULL
);